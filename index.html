<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Negocios con Ignacio ‚Äì Cat√°logo</title>
  <meta name="description" content="Cat√°logo de motos ‚Äì Negocios con Ignacio. Filtros, cuotas, galer√≠a, WhatsApp y eventos." />
  <link rel="icon" href="/images/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --gold:#C5A047; --dark:#0B0B0B; }
    body { background: var(--dark); color: #EEE; }
    .gold { color: var(--gold); }
    .btn { border:1px solid rgba(255,255,255,.18); border-radius:14px; padding:10px 14px; display:inline-flex; align-items:center; gap:8px; min-height:44px; }
    .btn:hover { box-shadow:0 8px 28px rgba(0,0,0,.35); }
    .card { background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.12); border-radius:18px; }
    .tag { font-size:12px; padding:2px 8px; border-radius:9999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); }
    .input, select { background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.28); color:#fff; border-radius:12px; padding:8px 12px; height:40px; }
    select, option { color:#fff; background:#111; }
    ::placeholder { color:#cfcfcf; opacity:.9; }
    .fixed-wa { position:fixed; right:16px; bottom:16px; z-index:50; }
    .grid-auto-fill { display:grid; grid-template-columns: repeat(auto-fill,minmax(270px,1fr)); gap:20px; }
    .iconbtn { border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06); height:38px; padding:0 10px; border-radius:10px; display:inline-flex; align-items:center; gap:6px; font-size:13px; }
    a { color: inherit; }
    .chip{display:inline-block;font-size:12px;padding:2px 8px;border-radius:9999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-20 border-b border-white/10 bg-black/70 backdrop-blur">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center gap-4">
      <img src="/images/logo.png" alt="Negocios con Ignacio" class="h-20 md:h-14 w-auto rounded-lg" onerror="this.src='https://dummyimage.com/200x80/111/ffffff&text=Negocios+con+Ignacio'">
      <span class="uppercase font-extrabold tracking-wide gold text-lg md:text-2xl">NEGOCIOS CON IGNACIO</span>
      <nav class="ml-auto hidden md:flex items-center gap-4 text-sm opacity-90">
        <a href="#catalogo" class="hover:opacity-100">Cat√°logo</a>
        <a href="#agenda" class="hover:opacity-100">Eventos</a>
        <a href="#contacto" class="hover:opacity-100">Contacto</a>
      </nav>
      <a href="#catalogo" class="btn">üîé Buscar</a>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 py-10 md:py-14 grid md:grid-cols-2 gap-8 items-center">
    <div>
      <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">
        <span class="gold">Hola</span>, gracias por entrar a mi p√°gina.
      </h1>
      <p class="mt-3 text-zinc-300">
        Ac√° vas a poder ver las motos que vendo, ver los pr√≥ximos eventos y anotarte,
        tambi√©n agendar test drive del modelo que quer√©s y cumplir el sue√±o de tener tu moto.
      </p>
      <div class="mt-5 flex flex-wrap items-center gap-3">
        <a href="#catalogo" class="btn">üõí Ver cat√°logo</a>
        <a href="#agenda" class="btn">üóìÔ∏è Eventos</a>
        <a id="wa-hero" target="_blank" class="btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>
      </div>
    </div>
    <div class="rounded-3xl overflow-hidden aspect-video md:aspect-[4/3] bg-cover bg-center" style="background-image:url('/images/hero.jpg'), linear-gradient(120deg,#111,#222)"></div>
  </section>

  <!-- Cat√°logo -->
  <section id="catalogo" class="mx-auto max-w-7xl px-4 pb-10">
    <div class="flex items-center justify-between gap-3 mb-3">
      <h2 class="text-2xl font-bold gold">Cat√°logo</h2>
      <div id="count" class="text-sm opacity-80"></div>
    </div>

    <div class="card p-4 md:p-5 mb-6">
      <div class="grid grid-cols-2 md:grid-cols-12 gap-3 items-end">
        <label class="text-sm col-span-2 md:col-span-4">B√∫squeda
          <input id="q" placeholder="Modelo, marca, cc‚Ä¶" class="input w-full mt-1" />
        </label>
        <label class="text-sm md:col-span-2">Marca
          <select id="brand" class="w-full mt-1">
            <option value="">Todas</option>
            <option>Benelli</option>
            <option>SUZUKI</option>
            <option>Usadas</option>
          </select>
        </label>
        <label class="text-sm md:col-span-2">Min
          <input id="minPrice" type="number" class="input w-full mt-1" />
        </label>
        <label class="text-sm md:col-span-2">Max
          <input id="maxPrice" type="number" class="input w-full mt-1" />
        </label>
        <label class="text-sm md:col-span-2">Orden
          <select id="sort" class="w-full mt-1">
            <option value="none">‚Äî</option>
            <option value="price-asc">Precio ‚Üë</option>
            <option value="price-desc">Precio ‚Üì</option>
            <option value="cc-asc">Cilindrada ‚Üë</option>
            <option value="cc-desc">Cilindrada ‚Üì</option>
            <option value="year-desc">A√±o ‚Üì</option>
            <option value="year-asc">A√±o ‚Üë</option>
          </select>
        </label>
        <div class="text-sm md:col-span-2"><button id="clear" class="btn w-full">üßπ Limpiar</button></div>
      </div>

      <div class="mt-4 flex flex-wrap items-center justify-between gap-3">
        <div class="text-sm opacity-80">
          <label>Por p√°gina
            <select id="pageSize" class="input ml-2" style="height:36px;">
              <option>6</option><option selected>10</option><option>12</option><option>16</option>
            </select>
          </label>
        </div>
        <div class="flex items-center gap-2" id="pagerTop"></div>
      </div>
    </div>

    <div id="grid" class="grid-auto-fill"></div>
    <div class="mt-6 flex items-center justify-end gap-2" id="pagerBottom"></div>
  </section>

  <!-- Eventos (pr√≥ximo evento con cuenta regresiva) -->
  <section id="agenda" class="mx-auto max-w-7xl px-4 pb-14">
    <h3 class="text-xl font-bold gold mb-3">Eventos</h3>

    <div id="nextEventHero" class="relative overflow-hidden rounded-2xl border border-white/10" style="min-height:180px;">
      <div class="absolute inset-0 bg-cover bg-center opacity-40" id="nextEventBg"></div>
      <div class="relative z-10 p-4 md:p-6 grid md:grid-cols-3 gap-4 items-center">
        <div class="md:col-span-2">
          <div class="text-xs uppercase tracking-wide opacity-80">Pr√≥ximo evento</div>
          <div class="text-lg md:text-2xl font-semibold" id="heroTitle">‚Äî</div>
          <div class="text-sm opacity-85" id="heroMeta"></div>
          <div class="text-sm opacity-80 mt-1" id="heroDesc"></div>
          <div class="mt-2 flex flex-wrap gap-2">
            <span class="chip" id="heroCapacity" style="display:none;"></span>
            <span class="chip">Solidario</span>
          </div>
        </div>
        <div class="text-center">
          <div class="text-xs opacity-70 mb-1">Comienza en</div>
          <div id="heroCountdown" class="text-2xl font-bold gold tabular-nums">‚Äî</div>
          <div class="mt-3 flex flex-wrap justify-center gap-2">
            <button id="heroWA" class="btn" style="background: rgba(197,160,71,.18);">üì≤ Agendar</button>
            <button id="heroICS" class="btn">‚ûï Calendario</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contacto -->
  <footer id="contacto" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 py-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <div>
        <div class="font-semibold gold">Negocios con Ignacio</div>
        <div class="text-sm opacity-70 mt-1">M√°s de 2000 clientes. Asesoramiento real.</div>
      </div>
      <div>
        <div class="font-semibold gold">Contacto</div>
        <div class="text-sm opacity-70 mt-1">WhatsApp: 3512004885</div>
        <div class="text-sm opacity-70">C√≥rdoba, Argentina</div>
      </div>
      <div>
        <div class="font-semibold gold">Enlaces</div>
        <div class="flex items-center gap-3 mt-2 opacity-80">
          <a href="https://www.instagram.com" target="_blank" class="underline">Instagram</a>
          <a href="https://www.facebook.com" target="_blank" class="underline">Facebook</a>
        </div>
      </div>
      <div>
        <div class="font-semibold gold">Legales</div>
        <div class="text-xs opacity-70 mt-1">Defensa de las y los consumidores ‚Ä¢ Bot√≥n de arrepentimiento</div>
      </div>
    </div>
    <div class="text-xs opacity-70 text-center pb-8">¬© <span id="year"></span> Negociosconignacio</div>
  </footer>

  <!-- WhatsApp flotante -->
  <a id="wa-float" target="_blank" class="fixed-wa btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>

  <!-- Lightbox -->
  <div id="lightbox" class="fixed inset-0 z-50 hidden bg-black/70 backdrop-blur">
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="relative w-full max-w-4xl card p-3 bg-black">
        <button id="lb-close" class="absolute -top-3 -right-3 btn bg-black">‚úñ</button>
        <img id="lb-main" src="" alt="" class="w-full max-h-[70vh] object-contain rounded-xl">
        <div id="lb-thumbs" class="mt-3 grid grid-cols-6 gap-2"></div>
        <button id="lb-prev" class="absolute left-2 top-1/2 -translate-y-1/2 btn">‚óÄ</button>
        <button id="lb-next" class="absolute right-2 top-1/2 -translate-y-1/2 btn">‚ñ∂</button>
      </div>
    </div>
  </div>

  <!-- Calculadora -->
  <div id="calcbox" class="fixed inset-0 z-50 hidden bg-black/70 backdrop-blur">
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="relative w-full max-w-3xl card p-4 md:p-6 bg-black">
        <button id="cb-close" class="absolute -top-3 -right-3 btn bg-black">‚úñ</button>

        <h3 id="cb-title" class="text-xl md:text-2xl font-bold gold">Calculadora de cuotas</h3>
        <div id="cb-price" class="mt-1 text-zinc-300"></div>

        <div class="mt-4 grid grid-cols-1 md:grid-cols-5 gap-3">
          <label class="text-sm block">Entrega
            <input id="cb-entrega" type="number" class="input w-full mt-1" value="0" step="10000" min="0">
          </label>
          <label class="text-sm block">Meses
            <input id="cb-meses" type="number" class="input w-full mt-1" value="12" min="1" max="72">
          </label>
          <label class="text-sm block">Tipo de plan
            <select id="cb-plan" class="input w-full mt-1"></select>
          </label>
          <div class="text-sm flex flex-col justify-end">
            <div class="text-xs opacity-70">Cuota estimada</div>
            <div id="cb-cuota" class="text-2xl font-semibold gold">-</div>
          </div>
          <div id="cb-atajos" class="flex items-end gap-2 flex-wrap"></div>
        </div>

        <div class="mt-2 text-xs opacity-70">TNA estimada: <span id="cb-tna-view">-</span></div>
        <div class="mt-3 text-sm opacity-80" id="cb-monto">Monto a financiar: -</div>

        <div class="mt-5 flex flex-col md:flex-row gap-3">
          <a id="cb-wa" target="_blank" class="btn w-full md:w-auto" style="background: rgba(197,160,71,.18);">üìû Enviar por WhatsApp</a>
          <button id="cb-cerrar" class="btn w-full md:w-auto">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Test Drive -->
  <div id="tdbox" class="fixed inset-0 z-50 hidden bg-black/70 backdrop-blur">
    <div class="absolute inset-0 flex items-center justify-center p-4">
      <div class="relative w-full max-w-2xl card p-4 md:p-6 bg-black">
        <button id="td-close" class="absolute -top-3 -right-3 btn bg-black">‚úñ</button>
        <h3 class="text-xl md:text-2xl font-bold gold">Agendar Test Drive</h3>
        <div id="td-model-view" class="mt-1 text-zinc-300"></div>

        <div class="mt-4 rounded-xl border border-red-500/40 bg-red-500/10 p-3">
          <div class="font-semibold text-red-400">‚ö† IMPORTANTE</div>
          <div class="text-sm mt-1">
            Tu turno es <span class="gold font-semibold">exclusivo</span> y la moto quedar√° reservada para tu prueba.
            Si no pod√©s asistir, <span class="gold font-semibold">avis√° con 24 hs de anticipaci√≥n</span> para liberar el lugar.
            As√≠ aseguramos que todos puedan vivir la experiencia.
          </div>
        </div>

        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3">
          <label class="text-sm block">Fecha y hora
            <input id="td-dt" type="datetime-local" class="input w-full mt-1">
          </label>
          <label class="text-sm block">Nombre
            <input id="td-name" class="input w-full mt-1" placeholder="Tu nombre">
          </label>
          <label class="text-sm block">Tel√©fono
            <input id="td-phone" class="input w-full mt-1" placeholder="Tu tel√©fono">
          </label>
          <label class="text-sm block">Notas
            <input id="td-notes" class="input w-full mt-1" placeholder="Ej: tengo casco propio">
          </label>
        </div>

        <div class="mt-5 flex flex-wrap gap-2">
          <a id="td-wa" target="_blank" class="btn" style="background: rgba(197,160,71,.18);">üì≤ Confirmar por WhatsApp</a>
          <button id="td-ics" class="btn">‚ûï Agregar a mi calendario (.ics)</button>
          <button id="td-cerrar" class="btn">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== CONFIG FINANCIACI√ìN ======
    const RULE_SMALL_CC = (cc)=> cc!=null && cc < 249;
    const DEFAULT_PLANS  = ["FIJA","UVA"];
    const DEFAULT_TNA    = { FIJA:54, UVA:20 };
    const DEFAULT_MONTHS = [12,18,24,36,48];

    // ====== DATA (desde tu Excel) ======
    const PRODUCTS = 
<?php /* JSON generado desde la planilla */ ?>
[
  // (reemplazo en tiempo de construcci√≥n)
];
  </script>
</body>
</html>
