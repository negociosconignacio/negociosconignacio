<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Negocios con Ignacio ‚Äì Cat√°logo</title>
  <meta name="description" content="Cat√°logo de motos ‚Äì Negocios con Ignacio. Filtros, cuotas y contacto por WhatsApp." />
  <meta property="og:title" content="Negocios con Ignacio ‚Äì Cat√°logo" />
  <meta property="og:description" content="Eleg√≠ tu pr√≥xima moto. Filtros, calculadora de cuotas, comparador y WhatsApp." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/logo.png" />
  <link rel="icon" href="images/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --gold: #C5A047; --dark: #0B0B0B; }
    body { background: var(--dark); color: #EEE; }
    .gold { color: var(--gold); }
    .btn { border:1px solid rgba(255,255,255,.12); border-radius: 14px; padding: 10px 14px; display:inline-flex; align-items:center; gap:8px; }
    .btn:hover { box-shadow: 0 8px 28px rgba(0,0,0,.35); }
    .card { background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.1); border-radius: 18px; backdrop-filter: blur(6px); }
    .tag { font-size: 12px; padding: 2px 8px; border-radius: 9999px; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12); }
    .input, select { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12); color: #EEE; border-radius: 12px; padding: 8px 12px; }
    .fixed-wa { position: fixed; right: 16px; bottom: 16px; z-index: 50; }
    .grid-auto-fill { display:grid; grid-template-columns: repeat(auto-fill,minmax(270px,1fr)); gap:20px; }
    a { color: inherit; }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-20 border-b border-white/10 bg-black/70 backdrop-blur">
    <div class="mx-auto max-w-7xl px-4 py-3 flex items-center gap-4">
      <img src="images/logo.png" alt="Negocios con Ignacio" class="h-10 w-auto rounded-lg" onerror="this.src='https://dummyimage.com/200x80/111/ffffff&text=Negocios+con+Ignacio'">
      <div class="text-sm opacity-80 hidden sm:block">Motos nuevas y usadas</div>
      <nav class="ml-auto hidden md:flex items-center gap-4 text-sm opacity-90">
        <a href="#catalogo" class="hover:opacity-100">Cat√°logo</a>
        <a href="#comparador" class="hover:opacity-100">Comparador</a>
        <a href="#contacto" class="hover:opacity-100">Contacto</a>
      </nav>
      <a href="#catalogo" class="btn">üîé Buscar</a>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 py-10 md:py-14 grid md:grid-cols-2 gap-8 items-center">
    <div>
      <h1 class="text-3xl md:text-5xl font-extrabold leading-tight"><span class="gold">Eleg√≠ tu pr√≥xima moto</span> con asesoramiento real</h1>
      <p class="mt-3 text-zinc-300">Filtros por marca y precio, calculadora de cuotas y contacto directo por WhatsApp.</p>
      <div class="mt-5 flex flex-wrap items-center gap-3">
        <a href="#catalogo" class="btn">üõí Ver cat√°logo</a>
        <a id="wa-hero" target="_blank" class="btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>
      </div>
    </div>
    <div class="rounded-3xl overflow-hidden aspect-video md:aspect-[4/3] bg-cover bg-center" style="background-image:url('images/hero.jpg'), linear-gradient(120deg,#111,#222)"></div>
  </section>

  <!-- Cat√°logo -->
  <section id="catalogo" class="mx-auto max-w-7xl px-4 pb-10">
    <div class="flex items-center justify-between gap-3 mb-4">
      <h2 class="text-2xl font-bold gold">Cat√°logo</h2>
      <div id="count" class="text-sm opacity-80"></div>
    </div>

    <div class="card p-4 md:p-5 mb-6">
      <div class="grid grid-cols-2 md:grid-cols-6 gap-3">
        <label class="text-sm col-span-2 md:col-span-2">B√∫squeda
          <input id="q" placeholder="Modelo, marca, cc‚Ä¶" class="input w-full mt-1" />
        </label>
        <label class="text-sm">Marca
          <select id="brand" class="w-full mt-1">
            <option value="">Todas</option>
            <option>Benelli</option>
            <option>Usadas</option>
          </select>
        </label>
        <label class="text-sm">Min
          <input id="minPrice" type="number" class="input w-full mt-1" />
        </label>
        <label class="text-sm">Max
          <input id="maxPrice" type="number" class="input w-full mt-1" />
        </label>
        <div class="text-sm flex items-end"><button id="clear" class="btn">üßπ Limpiar</button></div>
      </div>
    </div>

    <div id="grid" class="grid-auto-fill"></div>
  </section>

  <!-- Comparador -->
  <section id="comparador" class="mx-auto max-w-7xl px-4 pb-12">
    <h3 class="text-xl font-bold gold mb-3">Comparador</h3>
    <div class="card p-4">
      <div id="compareList" class="text-sm opacity-80 mb-3">Eleg√≠ hasta 3 modelos desde el cat√°logo (bot√≥n ‚ÄúComparar‚Äù).</div>
      <div class="overflow-auto">
        <table id="compareTable" class="w-full text-sm">
          <thead>
            <tr class="border-b border-white/10">
              <th class="text-left p-2">Modelo</th>
              <th class="text-left p-2">Marca</th>
              <th class="text-left p-2">Cilindrada</th>
              <th class="text-left p-2">A√±o</th>
              <th class="text-left p-2">KM</th>
              <th class="text-left p-2">Precio</th>
            </tr>
          </thead>
          <tbody id="compareBody"></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Contacto -->
  <footer id="contacto" class="border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 py-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
      <div>
        <div class="font-semibold gold">Negocios con Ignacio</div>
        <div class="text-sm opacity-70 mt-1">M√°s de 2000 clientes. Asesoramiento real.</div>
      </div>
      <div>
        <div class="font-semibold gold">Contacto</div>
        <div class="text-sm opacity-70 mt-1">WhatsApp: 3512004885</div>
        <div class="text-sm opacity-70">C√≥rdoba, Argentina</div>
      </div>
      <div>
        <div class="font-semibold gold">Enlaces</div>
        <div class="flex items-center gap-3 mt-2 opacity-80">
          <a href="https://www.instagram.com" target="_blank" class="underline">Instagram</a>
          <a href="https://www.facebook.com" target="_blank" class="underline">Facebook</a>
        </div>
      </div>
      <div>
        <div class="font-semibold gold">Legales</div>
        <div class="text-xs opacity-70 mt-1">Defensa de las y los consumidores ‚Ä¢ Bot√≥n de arrepentimiento</div>
      </div>
    </div>
    <div class="text-xs opacity-70 text-center pb-8">¬© <span id="year"></span> Negociosconignacio</div>
  </footer>

  <!-- WhatsApp flotante -->
  <a id="wa-float" target="_blank" class="fixed-wa btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>

  <script>
    const PRODUCTS = [
      {
        id: "trk251-2022-gris",
        title: "Benelli TRK 251 (Usada) 2022 ‚Äì 5.000 km ‚Äì Gris",
        price: 5000000,
        brand: "Usadas",
        cc: 249, year: 2022, km: 5000,
        cover: "images/trk251.jpg",
        tags: ["Usada","Oportunidad"]
      },
      {
        id: "benelli-302s",
        title: "Benelli 302S",
        price: 10000000,
        brand: "Benelli",
        cc: 300, year: 0, km: 0,
        cover: "images/302s.jpg",
        tags: ["En stock"]
      },
      {
        id: "benelli-251s",
        title: "Benelli 251S",
        price: 5000000,
        brand: "Benelli",
        cc: 249, year: 0, km: 0,
        cover: "images/251s.jpg",
        tags: ["En stock"]
      },
      {
        id: "leoncino-500",
        title: "Benelli Leoncino 500",
        price: 20000000,
        brand: "Benelli",
        cc: 500, year: 0, km: 0,
        cover: "images/leoncino500.jpg",
        tags: ["En stock"]
      },
      {
        id: "benelli-180s",
        title: "Benelli 180S",
        price: 3000000,
        brand: "Benelli",
        cc: 180, year: 0, km: 0,
        cover: "images/180s.jpg",
        tags: ["En stock"]
      }
    ];

    // JSON-LD
    const ld = {
      "@context":"https://schema.org",
      "@type":"ItemList",
      "itemListElement": PRODUCTS.map((p,i)=>({
        "@type":"Product",
        "name": p.title,
        "brand": p.brand,
        "image": p.cover,
        "sku": p.id,
        "position": i+1,
        "offers": {
          "@type":"Offer",
          "priceCurrency":"ARS",
          "price": p.price,
          "availability":"https://schema.org/InStock"
        }
      }))
    };
    const s = document.createElement('script'); s.type='application/ld+json'; s.textContent = JSON.stringify(ld); document.head.appendChild(s);

    const currency = (n)=> new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0}).format(n);
    const waBase = "https://wa.me/543512004885";
    const waDefault = "Hola Nacho, quiero info y *Opciones disponibles*";

    document.getElementById("year").textContent = new Date().getFullYear();
    document.getElementById("wa-hero").href = waBase + "?text=" + encodeURIComponent(waDefault);
    document.getElementById("wa-float").href = waBase + "?text=" + encodeURIComponent(waDefault);

    const grid = document.getElementById("grid");
    const count = document.getElementById("count");
    const compare = new Map(); // id -> product

    function frenchInstallment(amount, months, tna){
      const i = (tna/12)/100;
      if(months<=0 || amount<=0) return 0;
      if(i===0) return amount/months;
      const f = Math.pow(1+i, months);
      return amount * ((i*f)/(f-1));
    }

    function render(products){
      grid.innerHTML = "";
      products.forEach(p=>{
        const card = document.createElement("div");
        card.className = "card overflow-hidden";
        card.innerHTML = `
          <div class="aspect-video bg-cover bg-center" style="background-image:url('${p.cover}'), linear-gradient(120deg,#111,#222)"></div>
          <div class="p-4">
            <div class="flex items-center justify-between gap-3">
              <h3 class="font-semibold leading-tight">${p.title}</h3>
              <span class="text-sm opacity-80">üèçÔ∏è ${p.cc ?? "-"} cc</span>
            </div>
            <div class="mt-1 text-xl font-bold gold">${currency(p.price)}</div>
            <div class="mt-1 text-xs opacity-70">${p.brand} ${p.year && p.year>0 ? "‚Ä¢ "+p.year : ""} ${p.km ? "‚Ä¢ "+p.km.toLocaleString("es-AR")+" km" : ""}</div>
            ${p.tags?('<div class="mt-2 flex flex-wrap gap-2">'+p.tags.map(t=>'<span class="tag">'+t+'</span>').join('')+'</div>'):''}
            <div class="mt-4 grid grid-cols-3 gap-2">
              <a href="#" class="btn btn-calc">üßÆ Cuotas</a>
              <a target="_blank" href="${waBase}?text=${encodeURIComponent('Hola Nacho, me interesa *'+p.title+'*. ¬øOpciones disponibles?')}" class="btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>
              <a href="#" class="btn btn-compare">‚öñÔ∏è Comparar</a>
            </div>
            <div class="calc hidden mt-4 card p-4">
              <div class="text-sm font-semibold mb-2 gold">Calculadora de cuotas</div>
              <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                <label class="text-sm">Entrega
                  <input type="number" class="ent input w-full mt-1" value="0" step="10000" min="0">
                </label>
                <label class="text-sm">Meses
                  <input type="number" class="meses input w-full mt-1" value="12" min="1" max="72">
                </label>
                <label class="text-sm">TNA (%)
                  <input type="number" class="tna input w-full mt-1" value="60" min="0" max="500" step="0.1">
                </label>
                <div class="text-sm flex flex-col justify-end">
                  <div class="text-xs opacity-70">Cuota</div>
                  <div class="cuota text-lg font-semibold">-</div>
                </div>
                <div class="flex items-end gap-2">
                  <button class="btn atajo" data-meses="3">3</button>
                  <button class="btn atajo" data-meses="6">6</button>
                  <button class="btn atajo" data-meses="12">12</button>
                </div>
              </div>
              <div class="flex items-center justify-between gap-3 mt-4">
                <div class="monto text-xs opacity-70">Monto a financiar: -</div>
                <a target="_blank" class="wa btn" style="background: rgba(197,160,71,.18);">üìû WhatsApp</a>
              </div>
            </div>
          </div>`;
        grid.appendChild(card);

        const btnCalc = card.querySelector(".btn-calc");
        const calc = card.querySelector(".calc");
        const ent = card.querySelector(".ent");
        const meses = card.querySelector(".meses");
        const tna = card.querySelector(".tna");
        const cuotaEl = card.querySelector(".cuota");
        const montoEl = card.querySelector(".monto");
        const waBtn = card.querySelector(".wa");
        const atajos = card.querySelectorAll(".atajo");

        function update(){
          const entrega = Math.max(parseFloat(ent.value||"0"),0);
          const months = Math.max(parseInt(meses.value||"12"),1);
          const rate = Math.max(parseFloat(tna.value||"60"),0);
          const monto = Math.max(p.price - entrega, 0);
          const cuota = Math.round(frenchInstallment(monto, months, rate));
          cuotaEl.textContent = currency(cuota);
          montoEl.textContent = "Monto a financiar: " + currency(monto);
          const msg = [
            "Hola Nacho, me interesa *"+p.title+"*.",
            "",
            "Opciones disponibles:",
            "‚Ä¢ Precio: "+currency(p.price),
            "‚Ä¢ Entrega: "+currency(entrega),
            "‚Ä¢ A financiar: "+currency(monto),
            "‚Ä¢ Plan: "+months+" cuotas (TNA "+rate+"% aprox.)",
            "‚Ä¢ Estimaci√≥n de cuota: "+currency(cuota),
            "",
            "¬øLa podemos ver?"
          ].join("\\n");
          waBtn.href = waBase + "?text=" + encodeURIComponent(msg);
        }

        [ent, meses, tna].forEach(i=> i.addEventListener("input", update));
        atajos.forEach(b=> b.addEventListener("click", (e)=>{ e.preventDefault(); meses.value = b.dataset.meses; update(); }));
        btnCalc.addEventListener("click", (e)=>{ e.preventDefault(); calc.classList.toggle("hidden"); update(); });

        // Comparador
        card.querySelector(".btn-compare").addEventListener("click", (e)=>{
          e.preventDefault();
          if(compare.has(p.id)){ compare.delete(p.id); }
          else{
            if(compare.size>=3){ alert("M√°ximo 3 modelos en el comparador."); return; }
            compare.set(p.id, p);
          }
          renderCompare();
        });
      });
      count.textContent = products.length + " resultados";
    }

    function renderCompare(){
      const body = document.getElementById("compareBody");
      const list = document.getElementById("compareList");
      body.innerHTML = "";
      const arr = Array.from(compare.values());
      list.textContent = arr.length? "Modelos seleccionados: " + arr.map(a=>a.title).join(" ‚Ä¢ ") : "Eleg√≠ hasta 3 modelos desde el cat√°logo (bot√≥n ‚ÄúComparar‚Äù).";
      arr.forEach(p=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="p-2">${p.title}</td>
          <td class="p-2">${p.brand}</td>
          <td class="p-2">${p.cc}</td>
          <td class="p-2">${p.year || "-"}</td>
          <td class="p-2">${p.km ? p.km.toLocaleString("es-AR") : "-"}</td>
          <td class="p-2 gold">${currency(p.price)}</td>`;
        body.appendChild(tr);
      });
    }

    // Filtros
    function applyFilters(){
      const q = (document.getElementById("q").value || "").toLowerCase();
      const brand = document.getElementById("brand").value;
      const minP = parseFloat(document.getElementById("minPrice").value || "0");
      const maxP = parseFloat(document.getElementById("maxPrice").value || "0");
      const out = PRODUCTS.filter(p=>{
        const s = [p.title, p.brand, String(p.cc||""), String(p.year||"")].join(" ").toLowerCase();
        const okQ = q ? s.includes(q) : true;
        const okB = brand ? p.brand===brand : true;
        const okMin = minP ? p.price >= minP : true;
        const okMax = maxP ? p.price <= maxP : true;
        return okQ && okB && okMin && okMax;
      });
      render(out);
    }

    ["q","brand","minPrice","maxPrice"].forEach(id=> document.getElementById(id).addEventListener("input", applyFilters));
    document.getElementById("clear").addEventListener("click", ()=>{ ["q","brand","minPrice","maxPrice"].forEach(id=> document.getElementById(id).value=""); applyFilters(); });

    // Init
    render(PRODUCTS);
    applyFilters();
  </script>
</body>
</html>
